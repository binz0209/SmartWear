@using System.Linq
@model SmartWear.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Home Page";
}

<body class="index-page">
    <main class="main">

        <!-- Hero Section -->
        <section class="ecommerce-hero-2 hero section" id="hero">
            <div class="container">
                <div class="hero-slider swiper init-swiper" data-aos="fade-up">
                    <script type="application/json" class="swiper-config">
                        {
                          "loop": true,
                          "speed": 800,
                          "autoplay": {
                            "delay": 5000
                          },
                          "effect": "fade",
                          "fadeEffect": {
                            "crossFade": true
                          },
                          "navigation": {
                            "nextEl": ".swiper-button-next",
                            "prevEl": ".swiper-button-prev"
                          }
                        }
                    </script>
                    <div class="swiper-wrapper">
                        <!-- New Collection Slide -->
                        <div class="swiper-slide slide-new">
                            <div class="row align-items-center">
                                <div class="col-lg-6 content-col" data-aos="fade-right" data-aos-delay="100">
                                    <div class="slide-content">
                                        <span class="slide-badge">New Arrivals</span>
                                        <h1>Discover Our <span>Latest</span> Collection</h1>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget tortor risus. Vivamus magna justo, lacinia eget consectetur sed, convallis at tellus.</p>
                                        <div class="slide-cta">
                                            <a href="#" class="btn btn-shop">Shop New Arrivals <i class="bi bi-arrow-right"></i></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 image-col" data-aos="fade-left" data-aos-delay="200">
                                    <div class="product-showcase">
                                        <div class="product-grid">
                                            @{
                                                var delay = 300;
                                            }
                                            @foreach (var product in Model.NewArrivals)
                                            {
                                                <div class="product-item" data-aos="fade-up" data-aos-delay="@delay">
                                                    <div class="product-image">
                                                        <img src="~/img/product/@(product.ImageUrl ?? "default-product.webp")" alt="@product.Name" />
                                                    </div>
                                                    <div class="product-info">
                                                        <h4>@product.Name</h4>
                                                        <span class="price">@product.Price.ToString("C")</span>
                                                    </div>
                                                </div>
                                                delay += 100;
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Sale Products Slide -->
                        <div class="swiper-slide slide-sale">
                            <div class="row align-items-center">
                                <div class="col-lg-6 content-col" data-aos="fade-right" data-aos-delay="100">
                                    <div class="slide-content">
                                        <span class="slide-badge">Limited Time</span>
                                        <h1>Season <span>Sale</span> Up To 50% Off</h1>
                                        <p>Curabitur aliquet quam id dui posuere blandit. Nulla quis lorem ut libero malesuada feugiat. Mauris blandit aliquet elit, eget tincidunt nibh pulvinar.</p>
                                        <div class="slide-cta">
                                            <a href="#" class="btn btn-shop">Shop Sale <i class="bi bi-arrow-right"></i></a>
                                        </div>
                                        <div class="countdown-container">
                                            <div class="countdown-label">Offer ends in:</div>
                                            <div class="countdown d-flex" data-count="2025/6/15">
                                                <div>
                                                    <h3 class="count-days"></h3>
                                                    <h4>Days</h4>
                                                </div>
                                                <div>
                                                    <h3 class="count-hours"></h3>
                                                    <h4>Hours</h4>
                                                </div>
                                                <div>
                                                    <h3 class="count-minutes"></h3>
                                                    <h4>Minutes</h4>
                                                </div>
                                                <div>
                                                    <h3 class="count-seconds"></h3>
                                                    <h4>Seconds</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-6 image-col" data-aos="fade-left" data-aos-delay="200">
                                    @if (Model.SaleProducts != null && Model.SaleProducts.Any())
                                    {
                                        var saleProduct = Model.SaleProducts.First();
                                        <div class="sale-showcase">
                                            <div class="main-product">
                                                <img src="~/img/product/@(saleProduct.ImageUrl ?? "default-product.webp")" alt="@saleProduct.Name">
                                                <div class="discount-badge">
                                                    <span class="percent">50%</span>
                                                    <span class="text">OFF</span>
                                                </div>
                                            </div>
                                            <div class="floating-tag" data-aos="zoom-in" data-aos-delay="300">
                                                <div class="tag-content">
                                                    <span class="tag-label">@saleProduct.Name</span>
                                                    <span class="tag-price">
                                                        <span class="old-price">@((saleProduct.Price * 2).ToString("C"))</span>
                                                        <span class="new-price">@saleProduct.Price.ToString("C")</span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="sale-showcase">
                                            <p>No sale product available.</p>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>


                        <!-- Featured Products Slide -->
                        <div class="swiper-slide slide-featured">
                            <div class="row align-items-center">
                                <div class="col-lg-6 content-col" data-aos="fade-right" data-aos-delay="100">
                                    <div class="slide-content">
                                        <span class="slide-badge">Featured Collection</span>
                                        <h1>Premium <span>Quality</span> Products</h1>
                                        <p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. Donec rutrum congue leo eget malesuada. Cras ultricies ligula sed magna dictum porta.</p>
                                        <div class="slide-cta">
                                            <a href="#" class="btn btn-shop">Explore Collection <i class="bi bi-arrow-right"></i></a>
                                        </div>
                                        <div class="feature-list">
                                            <div class="feature-item">
                                                <i class="bi bi-check-circle-fill"></i>
                                                <span>Premium Materials</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-check-circle-fill"></i>
                                                <span>Handcrafted Quality</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-check-circle-fill"></i>
                                                <span>Lifetime Warranty</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 image-col" data-aos="fade-left" data-aos-delay="200">
                                    <div class="featured-showcase">
                                        @if (Model.FeaturedProducts != null && Model.FeaturedProducts.Any())
                                        {
                                            var featured = Model.FeaturedProducts.First();
                                            <div class="featured-image">
                                                <img src="~/img/product/@(featured.ImageUrl ?? "default-product.webp")" alt="@featured.Name">
                                                <div class="featured-badge">
                                                    <i class="bi bi-star-fill"></i>
                                                    <span>Featured</span>
                                                </div>
                                            </div>
                                            <div class="floating-review" data-aos="fade-up" data-aos-delay="300">
                                                <div class="review-stars">
                                                    @for (int i = 0; i < featured.Rating; i++)
                                                    {
                                                        <i class="bi bi-star-fill"></i>
                                                    }
                                                    @for (int i = featured.Rating; i < 5; i++)
                                                    {
                                                        <i class="bi bi-star"></i>
                                                    }
                                                </div>
                                                <div class="review-text">
                                                    "@featured.Description"
                                                </div>
                                                <div class="review-author">
                                                    - Featured Product
                                                </div>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>
            </div>
        </section><!-- /Hero Section -->
        <!-- Promo Cards Section -->
        <section id="promo-cards" class="promo-cards section">

            <div class="container" data-aos="fade-up" data-aos-delay="100">

                <div class="row g-4">
                    <!-- Promo Card 1 -->
                    <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="100">
                        <div class="promo-card card-1">
                            <div class="promo-content">
                                <p class="small-text">Etiam vel augue</p>
                                <h3 class="promo-title">Nullam quis ante</h3>
                                <p class="promo-description">Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu in enim justo rhoncus ut.</p>
                                <a href="#" class="btn-shop">Shop Now</a>
                            </div>
                            <div class="promo-image">
                                <img src="~/img/product/product-1.webp" alt="Product" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <!-- Promo Card 2 -->
                    <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="200">
                        <div class="promo-card card-2">
                            <div class="promo-content">
                                <p class="small-text">Maecenas tempus</p>
                                <h3 class="promo-title">Sed fringilla mauris</h3>
                                <p class="promo-description">Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu in enim justo rhoncus ut.</p>
                                <a href="#" class="btn-shop">Shop Now</a>
                            </div>
                            <div class="promo-image">
                                <img src="~/img/product/product-2.webp" alt="Product" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <!-- Promo Card 3 -->
                    <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="300">
                        <div class="promo-card card-3">
                            <div class="promo-content">
                                <p class="small-text">Aenean commodo</p>
                                <h3 class="promo-title">Fusce vulputate eleifend</h3>
                                <p class="promo-description">Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu in enim justo rhoncus ut.</p>
                                <a href="#" class="btn-shop">Shop Now</a>
                            </div>
                            <div class="promo-image">
                                <img src="~/img/product/product-f-1.webp" alt="Product" class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <!-- Promo Card 4 -->
                    <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="400">
                        <div class="promo-card card-4">
                            <div class="promo-content">
                                <p class="small-text">Pellentesque auctor</p>
                                <h3 class="promo-title">Vestibulum dapibus nunc</h3>
                                <p class="promo-description">Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu in enim justo rhoncus ut.</p>
                                <a href="#" class="btn-shop">Shop Now</a>
                            </div>
                            <div class="promo-image">
                                <img src="~/img/product/product-m-1.webp" alt="Product" class="img-fluid">
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </section><!-- /Promo Cards Section -->
        <!-- Category Cards Section -->
        <section id="category-cards" class="category-cards section light-background">

            <div class="container" data-aos="fade-up" data-aos-delay="100">

                <div class="category-tabs">
                    <ul class="nav justify-content-center" id="category-cards-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="category-cards-men-tab" data-bs-toggle="tab" data-bs-target="#category-cards-men-content" type="button" role="tab" aria-controls="category-cards-men-content" aria-selected="false">SHOP MEN</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="category-cards-women-tab" data-bs-toggle="tab" data-bs-target="#category-cards-women-content" type="button" role="tab" aria-controls="category-cards-women-content" aria-selected="true">SHOP WOMEN</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="category-cards-accesoires-tab" data-bs-toggle="tab" data-bs-target="#category-cards-accesoires-content" type="button" role="tab" aria-controls="category-cards-accesoires-content" aria-selected="false">SHOP ACCESSOIRCES</button>
                        </li>
                    </ul>
                </div>

                <div class="tab-content" id="category-cards-tabContent">
                    <!-- Men's Categories -->
                    <div class="tab-pane fade" id="category-cards-men-content" role="tabpanel" aria-labelledby="category-cards-men-tab">
                        <div class="row g-4">
                            <!-- Leather Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="200">
                                <div class="category-card">
                                    <img src="~/img/product/product-m-11.webp" alt="Men's Leather" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        LEATHER <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Denim Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="300">
                                <div class="category-card">
                                    <img src="~/img/product/product-m-12.webp" alt="Men's Denim" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        DENIM <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Swimwear Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="400">
                                <div class="category-card">
                                    <img src="~/img/product/product-m-19.webp" alt="Men's Swimwear" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        SWIMWEAR <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Women's Categories -->
                    <div class="tab-pane fade show active" id="category-cards-women-content" role="tabpanel" aria-labelledby="category-cards-women-tab">
                        <div class="row g-4">
                            <!-- Dresses Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="200">
                                <div class="category-card">
                                    <img src="~/img/product/product-f-11.webp" alt="Women's Dresses" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        DRESSES <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Tops Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="300">
                                <div class="category-card">
                                    <img src="~/img/product/product-f-18.webp" alt="Women's Tops" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        TOPS <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Accessories Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="400">
                                <div class="category-card">
                                    <img src="~/img/product/product-f-13.webp" alt="Women's Accessories" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        ACCESSORIES <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Kid's Categories -->
                    <div class="tab-pane fade" id="category-cards-accesoires-content" role="tabpanel" aria-labelledby="category-cards-accesoires-tab">
                        <div class="row g-4">
                            <!-- Boys Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="200">
                                <div class="category-card">
                                    <img src="~/img/product/product-1.webp" alt="Boys Clothing" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        BOYS <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Girls Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="300">
                                <div class="category-card">
                                    <img src="~/img/product/product-2.webp" alt="Girls Clothing" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        GIRLS <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Toys Category -->
                            <div class="col-12 col-md-4" data-aos="fade-up" data-aos-delay="400">
                                <div class="category-card">
                                    <img src="~/img/product/product-3.webp" alt="Kids Toys" class="img-fluid" loading="lazy">
                                    <a href="#" class="category-link">
                                        TOYS <i class="bi bi-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </section><!-- /Category Cards Section -->
        <!-- Best Sellers Section -->
        <section id="best-sellers" class="best-sellers section">

            <div class="container section-title" data-aos="fade-up">
                <h2>Best Sellers</h2>
                <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit</p>
            </div>

            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <div class="row g-4">
                    @{
                        var bestSellerDelay = 0;
                    }
                    @foreach (var product in Model.BestSellers)
                    {
                        <div class="col-6 col-lg-3">
                            <div class="product-card" data-aos="zoom-in" data-aos-delay="@delay">
                                <div class="product-image">
                                    <img src="~/img/product/@(product.ImageUrl ?? "default-product.webp")" class="main-image img-fluid" alt="@product.Name">
                                    <div class="product-overlay">
                                        <div class="product-actions">
                                            <a href="@Url.Action("ProductDetails", "Product", new { id = product.Id })" class="action-btn" title="Quick View">
                                                <i class="bi bi-eye"></i>
                                            </a>
                                            <a href="@Url.Action("AddToCart", "Cart", new { productId = product.Id })" class="action-btn" title="Add to Cart">
                                                <i class="bi bi-cart-plus"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="product-details">
                                    <div class="product-category">@product.CategoryName</div>
                                    <h4 class="product-title">
                                        <a href="@Url.Action("ProductDetails", "Product", new { id = product.Id })">@product.Name</a>
                                    </h4>
                                    <div class="product-meta">
                                        <div class="product-price">@product.Price.ToString("C")</div>
                                        <div class="product-rating">
                                            @for (int i = 0; i < product.Rating; i++)
                                            {
                                                <i class="bi bi-star-fill"></i>
                                            }
                                            @for (int i = product.Rating; i < 5; i++)
                                            {
                                                <i class="bi bi-star"></i>
                                            }
                                            <span> (@product.ReviewCount)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        bestSellerDelay += 100;
                    }
                </div>
            </div>

        </section>
        <!-- /Best Sellers Section -->
        <!-- Product List Section -->
        <section id="product-list" class="product-list section">
            <div class="container isotope-layout" data-aos="fade-up" data-aos-delay="100" data-default-filter="*" data-layout="masonry" data-sort="original-order">

                <div class="row">
                    <div class="col-12">
                        <div class="product-filters isotope-filters mb-5 d-flex justify-content-center" data-aos="fade-up">
                            <ul class="d-flex flex-wrap gap-2 list-unstyled">
                                <li class="filter-active" data-filter="*">All</li>
                                <li data-filter=".filter-clothing">Clothing</li>
                                <li data-filter=".filter-accessories">Accessories</li>
                                <li data-filter=".filter-electronics">Electronics</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="row product-container isotope-container" data-aos="fade-up" data-aos-delay="200">

                    @foreach (var product in Model.AllProducts)
                    {
                        <div class="col-md-6 col-lg-3 product-item isotope-item @(product.CategoryName?.ToLower() ?? "uncategorized")">
                            <div class="product-card">
                                <div class="product-image">
                                    @if (!string.IsNullOrEmpty(product.ImageUrl))
                                    {
                                        <img src="~/img/product/@product.ImageUrl" alt="@product.Name" class="img-fluid main-img">
                                    }
                                    else
                                    {
                                        <img src="~/img/product/default-product.webp" alt="Default Product Image" class="img-fluid main-img">
                                    }
                                    <div class="product-overlay">
                                        <a href="@Url.Action("AddToCart", "Cart", new { productId = product.Id })" class="btn-cart"><i class="bi bi-cart-plus"></i> Add to Cart</a>
                                    </div>
                                </div>
                                <div class="product-info">
                                    <h5 class="product-title"><a href="@Url.Action("ProductDetails", "Product", new { id = product.Id })">@product.Name</a></h5>
                                    <div class="product-price">
                                        <span class="current-price">@product.Price.ToString("C")</span>
                                    </div>
                                    <div class="product-rating">
                                        @for (int i = 0; i < product.Rating; i++)
                                        {
                                            <i class="bi bi-star-fill"></i>
                                        }
                                        @for (int i = product.Rating; i < 5; i++)
                                        {
                                            <i class="bi bi-star"></i>
                                        }
                                        <span> (@product.ReviewCount)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }


                </div>

                <div class="text-center mt-5" data-aos="fade-up">
                    <a href="category.html" class="view-all-btn">View All Products <i class="bi bi-arrow-right"></i></a>
                </div>

            </div>

        </section><!-- /Product List Section -->

    </main>
    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Preloader -->
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/vendor/php-email-form/validate.js"></script>
    <script src="~/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="~/vendor/aos/aos.js"></script>
    <script src="~/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="~/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="~/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="~/vendor/drift-zoom/Drift.min.js"></script>
    <script src="~/vendor/purecounter/purecounter_vanilla.js"></script>

    <!-- Main JS File -->
    <script src="~/js/main.js"></script>
</body>