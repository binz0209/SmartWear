@using System.Linq
@model SmartWear.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Home Page";
}

<body class="index-page">
    <main class="main">

      
        
        <!-- Welcome Section -->
        <section id="best-sellers" class="best-sellers section">

            <div class="container section-title" data-aos="fade-up">
                <h2>Welcome</h2>
            </div>

            <div class="container" data-aos="fade-up" data-aos-delay="100">
                <div class="row g-4">
                    @{
                        var bestSellerDelay = 0;
                    }
                    @foreach (var product in Model.BestSellers)
                    {
                        <div class="col-6 col-lg-3">
                            <div class="product-card" data-aos="zoom-in" >
                                <div class="product-image">
                                    <img src="~/img/product/@(product.ImageUrl ?? "default-product.webp")" class="main-image img-fluid" alt="@product.Name">
                                    <div class="product-overlay">
                                        <div class="product-actions">
                                            <a href="@Url.Action("ProductDetails", "Product", new { id = product.Id })" class="action-btn" title="Quick View">
                                                <i class="bi bi-eye"></i>
                                            </a>
                                            <a href="@Url.Action("AddToCart", "Cart", new { productId = product.Id })" class="action-btn" title="Add to Cart">
                                                <i class="bi bi-cart-plus"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="product-details">
                                    <div class="product-category">@product.CategoryName</div>
                                    <h4 class="product-title">
                                        <a href="@Url.Action("ProductDetails", "Product", new { id = product.Id })">@product.Name</a>
                                    </h4>
                                    <div class="product-meta">
                                        <div class="product-price">@product.Price.ToString("C")</div>
                                        <div class="product-rating">
                                            @for (int i = 0; i < product.Rating; i++)
                                            {
                                                <i class="bi bi-star-fill"></i>
                                            }
                                            @for (int i = product.Rating; i < 5; i++)
                                            {
                                                <i class="bi bi-star"></i>
                                            }
                                            <span> (@product.ReviewCount)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        bestSellerDelay += 100;
                    }
                </div>
            </div>

        </section>
        <!-- /Best Sellers Section -->
        <!-- Product List Section -->
        <section id="product-list" class="product-list section">
            <div class="container isotope-layout" data-aos="fade-up" data-aos-delay="100" data-default-filter="*" data-layout="masonry" data-sort="original-order">

                <div class="row">
                    <div class="col-12">
                        <div class="product-filters isotope-filters mb-5 d-flex justify-content-center" data-aos="fade-up">
                            <ul class="d-flex flex-wrap gap-2 list-unstyled">
                                <li class="filter-active" data-filter="*">All</li>
                                <li data-filter=".filter-clothing">Clothing</li>
                                <li data-filter=".filter-accessories">Accessories</li>
                                <li data-filter=".filter-electronics">Electronics</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="row product-container isotope-container" data-aos="fade-up" data-aos-delay="200">

                    @foreach (var product in Model.AllProducts)
                    {
                        <div class="col-md-6 col-lg-3 product-item isotope-item @(product.CategoryName?.ToLower() ?? "uncategorized")">
                            <div class="product-card">
                                <div class="product-image">
                                    @if (!string.IsNullOrEmpty(product.ImageUrl))
                                    {
                                        <img src="~/img/product/@product.ImageUrl" alt="@product.Name" class="img-fluid main-img">
                                    }
                                    else
                                    {
                                        <img src="~/img/product/default-product.webp" alt="Default Product Image" class="img-fluid main-img">
                                    }
                                    
                                </div>
                                <div class="product-info">
                                    <h5 class="product-title"><a href="@Url.Action("ProductDetails", "Product", new { id = product.Id })">@product.Name</a></h5>
                                    <div class="product-price">
                                        <span class="current-price">@product.Price.ToString("C")</span>
                                    </div>
                                    <div class="product-rating">
                                        @for (int i = 0; i < product.Rating; i++)
                                        {
                                            <i class="bi bi-star-fill"></i>
                                        }
                                        @for (int i = product.Rating; i < 5; i++)
                                        {
                                            <i class="bi bi-star"></i>
                                        }
                                        <span> (@product.ReviewCount)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }


                </div>

                <div class="text-center mt-5" data-aos="fade-up">
                    <a href="category.html" class="view-all-btn">View All Products <i class="bi bi-arrow-right"></i></a>
                </div>

            </div>

        </section><!-- /Product List Section -->

    </main>
    <!-- Scroll Top -->
    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Preloader -->
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/vendor/php-email-form/validate.js"></script>
    <script src="~/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="~/vendor/aos/aos.js"></script>
    <script src="~/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="~/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="~/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="~/vendor/drift-zoom/Drift.min.js"></script>
    <script src="~/vendor/purecounter/purecounter_vanilla.js"></script>

    <!-- Main JS File -->
    <script src="~/js/main.js"></script>
</body>